#### 1. TCP/UDP比较

> TCP优势： 面向连接，可靠地。基于字节流的全双工传输层协议.
TCP缺点： 首部开销20字节，连接只能点对点
   
    
> UDP优势： 首部8字节，没有拥塞机制，支持一对一，多对一，多对多。
UDP缺点： 无连接，提供面向事物但不可靠的信息传递。

#### 2. TCP握手与挥手

![TCP communication](https://github.com/qinweige/notebook/blob/master/images/TCPconnection.png)


由于握手和挥手都会占用资源，所以长连接可以用到（header里的keep-alive）
长/短连接的操作过程
> 短连接的操作步骤：
建立连接 -> 数据传输 -> 关闭连接
长连接的操作步骤：
建立连接 -> 数据传输 -> （保持连接） -> 数据传输 -> 关闭连接

浏览器请求网页过程：
DNS域名解析 ---- TCP三次握手 ---- HTTP请求发送 ---- 服务器处理 ---- 返回结果 ---- 关闭TCP ---- 浏览器解析HTML

#### 3. socket简介
> 通信的基石。支持TCP/IP等协议的基本操作单元。
包含进行通信的五种必要信息： 协议（TCP/UDP...)， 本机IP， 本地进程协议端口， 远地主机IP， 远地进程协议端口。

应用层通过传输层进行数据通信时，TCP会遇到同时为多个应用程序进程提供并发服务的问题。多个TCP连接或多个应用程序进程可能需要通过同一个 TCP协议端口传输数据。为了区别不同的应用程序进程和连接，许多计算机操作系统为应用程序与TCP／IP协议交互提供了套接字(Socket)接口。应 用层可以和传输层通过Socket接口，区分来自不同应用程序进程或网络连接的通信，实现数据传输的并发服务。

建立socket连接
建立Socket连接至少需要一对套接字，其中一个运行于客户端，称为ClientSocket ，另一个运行于服务器端，称为ServerSocket 。
套接字之间的连接过程分为三个步骤：服务器监听，客户端请求，连接确认。
服务器监听：服务器端套接字并不定位具体的客户端套接字，而是处于等待连接的状态，实时监控网络状态，等待客户端的连接请求。
客户端请求：指客户端的套接字提出连接请求，要连接的目标是服务器端的套接字。为此，客户端的套接字必须首先描述它要连接的服务器的套接字，指出服务器端套接字的地址和端口号，然后就向服务器端套接字提出连接请求。
连接确认：当服务器端套接字监听到或者说接收到客户端套接字的连接请求时，就响应客户端套接字的请求，建立一个新的线程，把服务器端套接字的描述发 给客户端，一旦客户端确认了此描述，双方就正式建立连接。而服务器端套接字继续处于监听状态，继续接收其他客户端套接字的连接请求。

SOCKET连接与TCP连接
创建Socket连接时，可以指定使用的传输层协议，Socket可以支持不同的传输层协议（TCP或UDP），当使用TCP协议进行连接时，该Socket连接就是一个TCP连接。

Socket连接与HTTP连接
由于通常情况下Socket连接就是TCP连接，因此Socket连接一旦建立，通信双方即可开始相互发送数据内容，直到双方连接断开。但在实际网 络应用中，客户端到服务器之间的通信往往需要穿越多个中间节点，例如路由器、网关、防火墙等，大部分防火墙默认会关闭长时间处于非活跃状态的连接而导致 Socket 连接断连，因此需要通过轮询告诉网络，该连接处于活跃状态。
而HTTP连接使用的是“请求—响应”的方式，不仅在请求时需要先建立连接，而且需要客户端向服务器发出请求后，服务器端才能回复数据。
很多情况下，需要服务器端主动向客户端推送数据，保持客户端与服务器数据的实时与同步。此时若双方建立的是Socket连接，服务器就可以直接将数 据传送给客户端；若双方建立的是HTTP连接，则服务器需要等到客户端发送一次请求后才能将数据传回给客户端，因此，客户端定时向服务器端发送连接请求， 不仅可以保持在线，同时也是在“询问”服务器是否有新的数据，如果有就将数据传给客户端。

####4. 状态码
在响应结果中都会有一个HTTP状态码，诸如我们熟知的200、404、500等
状态码都是由三位数字和原因短语组成，大致为五类：
* 1XX 信息性状态码 接收的请求正在处理
* 2XX 成功状态码 请求正常处理完毕
* 3XX 重定向状态码 需要附加操作以完成请求
* 4XX 客户端错误状态码 服务器也无法处理的请求
* 5XX 服务器错误状态码 服务器请求处理出错

[网络基础概念TCP/socket等](https://github.com/jawil/blog/issues/14)
